"""
DES of the MAS. This DES is used to optimize certain aspects of the
MAS such as the bids. It can be used to quickly run multiple experiments.
The results can then be implemented in the MAS to see the effects.
"""
import itertools
import random
from collections import defaultdict


import numpy as np
import pandas as pd




# Machine information
machinesPerWC = [4, 2, 5, 3, 2]  # Number of machines per workcenter
machine_number_WC = [[1, 2, 3, 4], [5, 6], [7, 8, 9, 10, 11], [12, 13, 14], [15, 16]]  # Index of machines

# Central buffer information
noOfCbPerWC = [1, 1, 1, 1, 1]
central_buffers_cap_WC = [[1], [1], [1], [1], [1]]  # buffer cap per central buffer

# Number of Work Centers
noOfWC = range(len(machinesPerWC))



def choose_distance_matrix(AGV_selection):
    travel_time_matrix_static = {
        'depot': {(0, 0): 0.8172946748768459, (1, 0): 1.3123784999555377, (2, 0): 0.6585858853531998,
                  (3, 0): 1.433842333456377, (0, 1): 1.5467258296614017, (1, 1): 1.9257690780798833,
                  (0, 2): 1.818997536344709, (1, 2): 0.8623551961544268, (2, 2): 1.3377479626783115,
                  (3, 2): 1.262680217608354, (4, 2): 1.0834280027665222, (0, 3): 1.3658855807064214,
                  (1, 3): 1.9888479727354917, (2, 3): 0.9443149437439822, (0, 4): 1.1158844719279024,
                  (1, 4): 1.1773765299151628, (4, 0): 1.5174753098805291, (2, 1): 1.9664057611416612,
                  (5, 2): 1.4621108846400444, (3, 3): 0.7449493977189425, (2, 4): 1.0824481416148046, 'depot': 0},
        (0, 0): {(0, 0): 0, (1, 0): 1.5774197607631741, (2, 0): 0.9827468889769226, (3, 0): 1.8411908242989676,
                 (0, 1): 1.0579350715089262, (1, 1): 0.71400293506319, (0, 2): 1.7320409428064418,
                 (1, 2): 1.9934234980419594, (2, 2): 0.5024306041582531, (3, 2): 1.0893178573067188,
                 (4, 2): 1.2034104470267426, (0, 3): 1.264654531564999, (1, 3): 1.1970329140177833,
                 (2, 3): 0.7390082322513767, (0, 4): 1.6866459293099982, (1, 4): 1.8772340307561384, (4, 0): 1,
                 (2, 1): 1, (5, 2): 1, (3, 3): 1, (2, 4): 1, 'depot': 1.6908771259263147},
        (1, 0): {(0, 0): 0.9142296179498304, (1, 0): 0, (2, 0): 1.5734529649888018, (3, 0): 1.9911147796935529,
                 (0, 1): 0.8509476769209747, (1, 1): 1.1490225661920257, (0, 2): 1.477302244031035,
                 (1, 2): 1.256523734491522, (2, 2): 0.751497331376437, (3, 2): 1.0364462421036558,
                 (4, 2): 1.4432861627929223, (0, 3): 1.299059414165957, (1, 3): 1.5918090636101276,
                 (2, 3): 1.3563713166412636, (0, 4): 1.0516033505997173, (1, 4): 0.6174075343549716, (4, 0): 1,
                 (2, 1): 1, (5, 2): 1, (3, 3): 1, (2, 4): 1, 'depot': 1.78336120477277},
        (2, 0): {(0, 0): 0.9288283109012567, (1, 0): 0.9069268083442072, (2, 0): 0, (3, 0): 0.6654347234260493,
                 (0, 1): 0.5365671311678726, (1, 1): 1.3023597771128719, (0, 2): 1.8250554551352183,
                 (1, 2): 1.4706649322643661, (2, 2): 1.9017917855955373, (3, 2): 1.5749230276455604,
                 (4, 2): 0.9657088806394831, (0, 3): 0.6945343473705805, (1, 3): 1.549251213699809,
                 (2, 3): 1.5270108944133736, (0, 4): 1.6626032507945507, (1, 4): 0.7099408288402875, (4, 0): 1,
                 (2, 1): 1, (5, 2): 1, (3, 3): 1, (2, 4): 1, 'depot': 0.7636039737126601},
        (3, 0): {(0, 0): 0.7398851416524077, (1, 0): 0.7285869705844434, (2, 0): 1.3618252812477682, (3, 0): 0,
                 (0, 1): 1.7005187112368918, (1, 1): 0.8046072272183014, (0, 2): 1.6520024698577764,
                 (1, 2): 1.0148090792591795, (2, 2): 1.572468576235747, (3, 2): 0.837388812645981,
                 (4, 2): 0.8454350121061719, (0, 3): 0.9371996878193849, (1, 3): 1.9055041478302845,
                 (2, 3): 1.0948006183137309, (0, 4): 0.8796557067688513, (1, 4): 1.931875028587251, (4, 0): 1,
                 (2, 1): 1,
                 (5, 2): 1, (3, 3): 1, (2, 4): 1, 'depot': 0.9707862598742346},
        (0, 1): {(0, 0): 1.3681054154387287, (1, 0): 1.902633095783024, (2, 0): 1.0705270627550307,
                 (3, 0): 1.5164256462722023, (0, 1): 0, (1, 1): 1.6141884266514082, (0, 2): 1.7647582154115629,
                 (1, 2): 1.2669410965992776, (2, 2): 1.5388019359780283, (3, 2): 1.0369182733098168,
                 (4, 2): 0.6033190769046433, (0, 3): 1.1556781286611697, (1, 3): 1.8829380376809983,
                 (2, 3): 1.9253598698654932, (0, 4): 0.5158026831592388, (1, 4): 0.6789504851801657, (4, 0): 1,
                 (2, 1): 1, (5, 2): 1, (3, 3): 1, (2, 4): 1, 'depot': 0.5918773971622233},
        (1, 1): {(0, 0): 0.9379673209902798, (1, 0): 1.9128063901033312, (2, 0): 1.124130491380308,
                 (3, 0): 1.271586371693304, (0, 1): 1.1689417157781827, (1, 1): 0, (0, 2): 1.8017073806193653,
                 (1, 2): 1.5063838879674494, (2, 2): 1.013143890522152, (3, 2): 1.9415006185319803,
                 (4, 2): 1.653675332673755, (0, 3): 1.6265101257177836, (1, 3): 0.8134744717208406,
                 (2, 3): 1.8662347574774192, (0, 4): 0.6307329305553359, (1, 4): 0.5435562842327581, (4, 0): 1,
                 (2, 1): 1, (5, 2): 1, (3, 3): 1, (2, 4): 1, 'depot': 0.922106754641776},
        (0, 2): {(0, 0): 0.889698801155106, (1, 0): 1.20578091478909, (2, 0): 1.91196549724308,
                 (3, 0): 0.8932922892972047, (0, 1): 0.8147194189409283, (1, 1): 1.9783050323846916, (0, 2): 0,
                 (1, 2): 1.2715570993812095, (2, 2): 1.632155420707492, (3, 2): 0.773682014469332,
                 (4, 2): 0.8114190595917881, (0, 3): 0.8238520844490683, (1, 3): 1.4501643241822628,
                 (2, 3): 0.7567286327953915, (0, 4): 1.0282789034329667, (1, 4): 1.217040214641063, (4, 0): 1,
                 (2, 1): 1,
                 (5, 2): 1, (3, 3): 1, (2, 4): 1, 'depot': 1.502012241727451},
        (1, 2): {(0, 0): 0.7236840356567378, (1, 0): 1.583448422279515, (2, 0): 1.3122699820219266,
                 (3, 0): 1.8372087267149366, (0, 1): 0.6635461403959224, (1, 1): 1.6500417580126587,
                 (0, 2): 0.5165021100692107, (1, 2): 0, (2, 2): 0.7170114455743322, (3, 2): 1.9873485956448564,
                 (4, 2): 0.7950462752394722, (0, 3): 1.709531318391473, (1, 3): 1.4313505612409982,
                 (2, 3): 1.93325086144201, (0, 4): 1.673489901729884, (1, 4): 1.4950247809772161, (4, 0): 1,
                 (2, 1): 1,
                 (5, 2): 1, (3, 3): 1, (2, 4): 1, 'depot': 1.3075097237827409},
        (2, 2): {(0, 0): 1.9241031584269226, (1, 0): 0.7789186665972795, (2, 0): 0.9976740986284856,
                 (3, 0): 1.9337578340511323, (0, 1): 0.5332220771005498, (1, 1): 1.353302902187643,
                 (0, 2): 1.104694720863617, (1, 2): 1.9581440397272967, (2, 2): 0, (3, 2): 1.7500902254769959,
                 (4, 2): 1.2619111310578008, (0, 3): 0.5377305708219582, (1, 3): 1.531300638250022,
                 (2, 3): 1.1171661270468334, (0, 4): 1.128878476042055, (1, 4): 1.865251871344475, (4, 0): 1,
                 (2, 1): 1,
                 (5, 2): 1, (3, 3): 1, (2, 4): 1, 'depot': 0.7019039083884149},
        (3, 2): {(0, 0): 1.405299636598918, (1, 0): 0.9654934578099357, (2, 0): 1.0383403638975772,
                 (3, 0): 1.098870627882893, (0, 1): 1.766541087899526, (1, 1): 1.9997687085985278,
                 (0, 2): 1.5321922402020407, (1, 2): 1.259065044498021, (2, 2): 1.7222089051986909, (3, 2): 0,
                 (4, 2): 1.722236652726539, (0, 3): 1.6986810430350427, (1, 3): 1.0709286502742241,
                 (2, 3): 1.915242942159173, (0, 4): 1.084400312928173, (1, 4): 1.928121001317904, (4, 0): 1,
                 (2, 1): 1,
                 (5, 2): 1, (3, 3): 1, (2, 4): 1, 'depot': 0.5128846117281075},
        (4, 2): {(0, 0): 1.9872187836379296, (1, 0): 0.742600399330128, (2, 0): 1.118159104493538,
                 (3, 0): 1.0663898329472934, (0, 1): 1.6245268984283814, (1, 1): 1.5876199027807294,
                 (0, 2): 1.0196437766672828, (1, 2): 1.0968340603650413, (2, 2): 1.486806487283112,
                 (3, 2): 0.6507562284665047, (4, 2): 0, (0, 3): 0.7456632536732112, (1, 3): 1.388937323264941,
                 (2, 3): 0.5339295691693104, (0, 4): 0.6669836885557912, (1, 4): 1.4823972814454853, (4, 0): 1,
                 (2, 1): 1, (5, 2): 1, (3, 3): 1, (2, 4): 1, 'depot': 1.839458501682575},
        (0, 3): {(0, 0): 1.345545378973958, (1, 0): 1.8474563599000433, (2, 0): 1.81795248993692,
                 (3, 0): 1.3429970057699467, (0, 1): 1.648397192271568, (1, 1): 1.6594801652964595,
                 (0, 2): 1.4925871348533137, (1, 2): 0.5495294990901948, (2, 2): 0.5882768704057619,
                 (3, 2): 1.012366660140309, (4, 2): 0.9229946857306406, (0, 3): 0, (1, 3): 0.828309038010542,
                 (2, 3): 1.137523224427608, (0, 4): 0.5635827191547412, (1, 4): 0.8638400415727072, (4, 0): 1,
                 (2, 1): 1,
                 (5, 2): 1, (3, 3): 1, (2, 4): 1, 'depot': 1.9470956907235712},
        (1, 3): {(0, 0): 0.9327570179466111, (1, 0): 0.5300924850668653, (2, 0): 0.9376863522138472,
                 (3, 0): 1.9785592655573165, (0, 1): 1.4041491152575731, (1, 1): 1.4052761895843755,
                 (0, 2): 0.6425860076243901, (1, 2): 1.773120631983414, (2, 2): 1.8350964029128325,
                 (3, 2): 1.8700929678320595, (4, 2): 0.7152947409626385, (0, 3): 0.8576841316700076, (1, 3): 0,
                 (2, 3): 1.78388110877002, (0, 4): 1.479688999537928, (1, 4): 0.573883505942747, (4, 0): 1,
                 (2, 1): 1,
                 (5, 2): 1, (3, 3): 1, (2, 4): 1, 'depot': 0.5614271634494827},
        (2, 3): {(0, 0): 1.4227939316042055, (1, 0): 1.650901601448251, (2, 0): 1.6708930281493555,
                 (3, 0): 1.3711347220155385, (0, 1): 0.5504079850743528, (1, 1): 0.5260492493058468,
                 (0, 2): 1.9285096913338937, (1, 2): 1.9806312634472831, (2, 2): 1.3065642409008396,
                 (3, 2): 1.3827536047861952, (4, 2): 0.788762641742109, (0, 3): 0.9725124540946166,
                 (1, 3): 1.8553885475771708, (2, 3): 0, (0, 4): 0.5944468077325764, (1, 4): 1.4671527116025824,
                 (4, 0): 1, (2, 1): 1, (5, 2): 1, (3, 3): 1, (2, 4): 1, 'depot': 0.8702073405709763},
        (0, 4): {(0, 0): 1.0017695140860525, (1, 0): 1.8506317851445802, (2, 0): 1.2649973540036705,
                 (3, 0): 1.0305882812392713, (0, 1): 1.7889089905333644, (1, 1): 1.9406136580049254,
                 (0, 2): 0.8194863184116735, (1, 2): 1.4877105228682703, (2, 2): 1.0186266711776932,
                 (3, 2): 0.6613371258977763, (4, 2): 0.9103800043145012, (0, 3): 1.340750742248379,
                 (1, 3): 1.9615922590809698, (2, 3): 1.4475182213824984, (0, 4): 0, (1, 4): 0.9980360357998815,
                 (4, 0): 1, (2, 1): 1, (5, 2): 1, (3, 3): 1, (2, 4): 1, 'depot': 1.5952438589364277},
        (1, 4): {(0, 0): 1.133604778290959, (1, 0): 1.928938801162687, (2, 0): 1.929480391466342,
                 (3, 0): 1.9255049575653567, (0, 1): 1.474444142791137, (1, 1): 1.5293846015991985,
                 (0, 2): 1.4168620787872142, (1, 2): 0.682050690403023, (2, 2): 0.7020723834179601,
                 (3, 2): 0.7312681666102094, (4, 2): 1.356513802531069, (0, 3): 1.63448862008499,
                 (1, 3): 1.929387999686928, (2, 3): 1.3933956852951055, (0, 4): 1.5884581818974786, (1, 4): 0,
                 (4, 0): 1,
                 (2, 1): 1, (5, 2): 1, (3, 3): 1, (2, 4): 1, 'depot': 1.003011101168391},
        (4, 0): {(0, 0): 1.331437797226254, (1, 0): 1.9985471584774388, (2, 0): 0.5283708354616572,
                 (3, 0): 1.2342355153529088, (0, 1): 1.2098225217359717, (1, 1): 1.0178114426053364,
                 (0, 2): 0.9492155933830664, (1, 2): 1.1058027776368131, (2, 2): 1.7451143701320975,
                 (3, 2): 1.0759545690360273, (4, 2): 1.4286688804588035, (0, 3): 1.4704416674936018,
                 (1, 3): 1.3654480741798294, (2, 3): 0.933077715486664, (0, 4): 1.1124731008218918,
                 (1, 4): 1.9013058472843474, 'depot': 1.8204988082172076, (4, 0): 0, (2, 1): 1.1180508702099914,
                 (5, 2): 0.7622974822416189, (3, 3): 1.6169980832886517, (2, 4): 0.972778239897298},
        (2, 1): {(0, 0): 0.6144293551572035, (1, 0): 0.7220270191040374, (2, 0): 1.284948949983054,
                 (3, 0): 1.6687337247744978, (0, 1): 1.4759639398353452, (1, 1): 1.7423696418235204,
                 (0, 2): 0.9372966049555358, (1, 2): 1.615091200799288, (2, 2): 1.0225553544430739,
                 (3, 2): 1.6878959108272855, (4, 2): 0.5525929024437386, (0, 3): 1.6183266738594644,
                 (1, 3): 0.7746078112262527, (2, 3): 1.3940352127125206, (0, 4): 0.9409465076591179,
                 (1, 4): 0.8102002782939594, 'depot': 0.8297829214395012, (4, 0): 1.348851831183379, (2, 1): 0,
                 (5, 2): 1.4378399344606452, (3, 3): 1.073974714557397, (2, 4): 1.2476724619026445},
        (5, 2): {(0, 0): 1.287858668691697, (1, 0): 0.9576049189809053, (2, 0): 0.58257107562691,
                 (3, 0): 1.759380960645351, (0, 1): 1.4227645271095208, (1, 1): 0.8523270097861564,
                 (0, 2): 1.2001728510288001, (1, 2): 1.724211198668548, (2, 2): 0.8082428966708045,
                 (3, 2): 1.406480872457402, (4, 2): 0.584948785283361, (0, 3): 0.8834190433306097,
                 (1, 3): 0.7241630121884504, (2, 3): 0.5767809947194519, (0, 4): 0.7557958903863575,
                 (1, 4): 0.8028982839987472, 'depot': 0.5584501262984153, (4, 0): 0.5380804669121488,
                 (2, 1): 0.8347414891732574, (5, 2): 0, (3, 3): 1.4502472896286034, (2, 4): 0.7512536456422471},
        (3, 3): {(0, 0): 0.9207537830029551, (1, 0): 0.9561977569784262, (2, 0): 0.5955045673228172,
                 (3, 0): 0.6852437769848805, (0, 1): 1.7709889364833047, (1, 1): 1.023811184427109,
                 (0, 2): 1.1335373677400884, (1, 2): 1.3302198253965283, (2, 2): 1.820756171209001,
                 (3, 2): 1.709573948641321, (4, 2): 0.7347825045014739, (0, 3): 1.0773962560467865,
                 (1, 3): 1.4120520286400915, (2, 3): 0.8648262579100324, (0, 4): 1.4172640027395889,
                 (1, 4): 0.7248870182034, 'depot': 1.420717970881636, (4, 0): 1.890918728753916,
                 (2, 1): 0.5989671733500358, (5, 2): 1.3112168705900589, (3, 3): 0, (2, 4): 0.991714689988866},
        (2, 4): {(0, 0): 1.0955634350829362, (1, 0): 1.0324530933490674, (2, 0): 1.887325788720707,
                 (3, 0): 0.7834486577507302, (0, 1): 1.9984515394648816, (1, 1): 1.2884348056823267,
                 (0, 2): 1.7481335786291523, (1, 2): 0.7260384313322847, (2, 2): 1.448119748469446,
                 (3, 2): 1.179920199773366, (4, 2): 0.7199138471775384, (0, 3): 0.7109644879191153,
                 (1, 3): 1.509740525365306, (2, 3): 1.6760774860586114, (0, 4): 0.6213498515004057,
                 (1, 4): 0.6488698028627253, 'depot': 1.1869183060205535, (4, 0): 1.4757719965305485,
                 (2, 1): 0.671324112401962, (5, 2): 0.9369866209450376, (3, 3): 1.5777171780942818, (2, 4): 0}}

    if AGV_selection == 0:
        travel_time_matrix_static = {'depot': {(0, 0): 0, (1, 0): 0, (2, 0): 0, (3, 0): 0, (0, 1): 0, (1, 1): 0, (0, 2): 0, (1, 2): 0, (2, 2): 0, (3, 2): 0, (4, 2): 0, (0, 3): 0, (1, 3): 0, (2, 3): 0, (0, 4): 0, (1, 4): 0, (4, 0): 0, (2, 1): 0, (5, 2): 0, (3, 3): 0, (2, 4): 0, 'depot': 0}, (0, 0): {(0, 0): 0, (1, 0): 0, (2, 0): 0, (3, 0): 0, (0, 1): 0, (1, 1): 0, (0, 2): 0, (1, 2): 0, (2, 2): 0, (3, 2): 0, (4, 2): 0, (0, 3): 0, (1, 3): 0, (2, 3): 0, (0, 4): 0, (1, 4): 0, (4, 0): 0, (2, 1): 0, (5, 2): 0, (3, 3): 0, (2, 4): 0, 'depot': 0}, (1, 0): {(0, 0): 0, (1, 0): 0, (2, 0): 0, (3, 0): 0, (0, 1): 0, (1, 1): 0, (0, 2): 0, (1, 2): 0, (2, 2): 0, (3, 2): 0, (4, 2): 0, (0, 3): 0, (1, 3): 0, (2, 3): 0, (0, 4): 0, (1, 4): 0, (4, 0): 0, (2, 1): 0, (5, 2): 0, (3, 3): 0, (2, 4): 0, 'depot': 0}, (2, 0): {(0, 0): 0, (1, 0): 0, (2, 0): 0, (3, 0): 0, (0, 1): 0, (1, 1): 0, (0, 2): 0, (1, 2): 0, (2, 2): 0, (3, 2): 0, (4, 2): 0, (0, 3): 0, (1, 3): 0, (2, 3): 0, (0, 4): 0, (1, 4): 0, (4, 0): 0, (2, 1): 0, (5, 2): 0, (3, 3): 0, (2, 4): 0, 'depot': 0}, (3, 0): {(0, 0): 0, (1, 0): 0, (2, 0): 0, (3, 0): 0, (0, 1): 0, (1, 1): 0, (0, 2): 0, (1, 2): 0, (2, 2): 0, (3, 2): 0, (4, 2): 0, (0, 3): 0, (1, 3): 0, (2, 3): 0, (0, 4): 0, (1, 4): 0, (4, 0): 0, (2, 1): 0, (5, 2): 0, (3, 3): 0, (2, 4): 0, 'depot': 0}, (0, 1): {(0, 0): 0, (1, 0): 0, (2, 0): 0, (3, 0): 0, (0, 1): 0, (1, 1): 0, (0, 2): 0, (1, 2): 0, (2, 2): 0, (3, 2): 0, (4, 2): 0, (0, 3): 0, (1, 3): 0, (2, 3): 0, (0, 4): 0, (1, 4): 0, (4, 0): 0, (2, 1): 0, (5, 2): 0, (3, 3): 0, (2, 4): 0, 'depot': 0}, (1, 1): {(0, 0): 0, (1, 0): 0, (2, 0): 0, (3, 0): 0, (0, 1): 0, (1, 1): 0, (0, 2): 0, (1, 2): 0, (2, 2): 0, (3, 2): 0, (4, 2): 0, (0, 3): 0, (1, 3): 0, (2, 3): 0, (0, 4): 0, (1, 4): 0, (4, 0): 0, (2, 1): 0, (5, 2): 0, (3, 3): 0, (2, 4): 0, 'depot': 0}, (0, 2): {(0, 0): 0, (1, 0): 0, (2, 0): 0, (3, 0): 0, (0, 1): 0, (1, 1): 0, (0, 2): 0, (1, 2): 0, (2, 2): 0, (3, 2): 0, (4, 2): 0, (0, 3): 0, (1, 3): 0, (2, 3): 0, (0, 4): 0, (1, 4): 0, (4, 0): 0, (2, 1): 0, (5, 2): 0, (3, 3): 0, (2, 4): 0, 'depot': 0}, (1, 2): {(0, 0): 0, (1, 0): 0, (2, 0): 0, (3, 0): 0, (0, 1): 0, (1, 1): 0, (0, 2): 0, (1, 2): 0, (2, 2): 0, (3, 2): 0, (4, 2): 0, (0, 3): 0, (1, 3): 0, (2, 3): 0, (0, 4): 0, (1, 4): 0, (4, 0): 0, (2, 1): 0, (5, 2): 0, (3, 3): 0, (2, 4): 0, 'depot': 0}, (2, 2): {(0, 0): 0, (1, 0): 0, (2, 0): 0, (3, 0): 0, (0, 1): 0, (1, 1): 0, (0, 2): 0, (1, 2): 0, (2, 2): 0, (3, 2): 0, (4, 2): 0, (0, 3): 0, (1, 3): 0, (2, 3): 0, (0, 4): 0, (1, 4): 0, (4, 0): 0, (2, 1): 0, (5, 2): 0, (3, 3): 0, (2, 4): 0, 'depot': 0}, (3, 2): {(0, 0): 0, (1, 0): 0, (2, 0): 0, (3, 0): 0, (0, 1): 0, (1, 1): 0, (0, 2): 0, (1, 2): 0, (2, 2): 0, (3, 2): 0, (4, 2): 0, (0, 3): 0, (1, 3): 0, (2, 3): 0, (0, 4): 0, (1, 4): 0, (4, 0): 0, (2, 1): 0, (5, 2): 0, (3, 3): 0, (2, 4): 0, 'depot': 0}, (4, 2): {(0, 0): 0, (1, 0): 0, (2, 0): 0, (3, 0): 0, (0, 1): 0, (1, 1): 0, (0, 2): 0, (1, 2): 0, (2, 2): 0, (3, 2): 0, (4, 2): 0, (0, 3): 0, (1, 3): 0, (2, 3): 0, (0, 4): 0, (1, 4): 0, (4, 0): 0, (2, 1): 0, (5, 2): 0, (3, 3): 0, (2, 4): 0, 'depot': 0}, (0, 3): {(0, 0): 0, (1, 0): 0, (2, 0): 0, (3, 0): 0, (0, 1): 0, (1, 1): 0, (0, 2): 0, (1, 2): 0, (2, 2): 0, (3, 2): 0, (4, 2): 0, (0, 3): 0, (1, 3): 0, (2, 3): 0, (0, 4): 0, (1, 4): 0, (4, 0): 0, (2, 1): 0, (5, 2): 0, (3, 3): 0, (2, 4): 0, 'depot': 0}, (1, 3): {(0, 0): 0, (1, 0): 0, (2, 0): 0, (3, 0): 0, (0, 1): 0, (1, 1): 0, (0, 2): 0, (1, 2): 0, (2, 2): 0, (3, 2): 0, (4, 2): 0, (0, 3): 0, (1, 3): 0, (2, 3): 0, (0, 4): 0, (1, 4): 0, (4, 0): 0, (2, 1): 0, (5, 2): 0, (3, 3): 0, (2, 4): 0, 'depot': 0}, (2, 3): {(0, 0): 0, (1, 0): 0, (2, 0): 0, (3, 0): 0, (0, 1): 0, (1, 1): 0, (0, 2): 0, (1, 2): 0, (2, 2): 0, (3, 2): 0, (4, 2): 0, (0, 3): 0, (1, 3): 0, (2, 3): 0, (0, 4): 0, (1, 4): 0, (4, 0): 0, (2, 1): 0, (5, 2): 0, (3, 3): 0, (2, 4): 0, 'depot': 0}, (0, 4): {(0, 0): 0, (1, 0): 0, (2, 0): 0, (3, 0): 0, (0, 1): 0, (1, 1): 0, (0, 2): 0, (1, 2): 0, (2, 2): 0, (3, 2): 0, (4, 2): 0, (0, 3): 0, (1, 3): 0, (2, 3): 0, (0, 4): 0, (1, 4): 0, (4, 0): 0, (2, 1): 0, (5, 2): 0, (3, 3): 0, (2, 4): 0, 'depot': 0}, (1, 4): {(0, 0): 0, (1, 0): 0, (2, 0): 0, (3, 0): 0, (0, 1): 0, (1, 1): 0, (0, 2): 0, (1, 2): 0, (2, 2): 0, (3, 2): 0, (4, 2): 0, (0, 3): 0, (1, 3): 0, (2, 3): 0, (0, 4): 0, (1, 4): 0, (4, 0): 0, (2, 1): 0, (5, 2): 0, (3, 3): 0, (2, 4): 0, 'depot': 0}, (4, 0): {(0, 0): 0, (1, 0): 0, (2, 0): 0, (3, 0): 0, (0, 1): 0, (1, 1): 0, (0, 2): 0, (1, 2): 0, (2, 2): 0, (3, 2): 0, (4, 2): 0, (0, 3): 0, (1, 3): 0, (2, 3): 0, (0, 4): 0, (1, 4): 0, 'depot': 0, (4, 0): 0, (2, 1): 0, (5, 2): 0, (3, 3): 0, (2, 4): 0}, (2, 1): {(0, 0): 0, (1, 0): 0, (2, 0): 0, (3, 0): 0, (0, 1): 0, (1, 1): 0, (0, 2): 0, (1, 2): 0, (2, 2): 0, (3, 2): 0, (4, 2): 0, (0, 3): 0, (1, 3): 0, (2, 3): 0, (0, 4): 0, (1, 4): 0, 'depot': 0, (4, 0): 0, (2, 1): 0, (5, 2): 0, (3, 3): 0, (2, 4): 0}, (5, 2): {(0, 0): 0, (1, 0): 0, (2, 0): 0, (3, 0): 0, (0, 1): 0, (1, 1): 0, (0, 2): 0, (1, 2): 0, (2, 2): 0, (3, 2): 0, (4, 2): 0, (0, 3): 0, (1, 3): 0, (2, 3): 0, (0, 4): 0, (1, 4): 0, 'depot': 0, (4, 0): 0, (2, 1): 0, (5, 2): 0, (3, 3): 0, (2, 4): 0}, (3, 3): {(0, 0): 0, (1, 0): 0, (2, 0): 0, (3, 0): 0, (0, 1): 0, (1, 1): 0, (0, 2): 0, (1, 2): 0, (2, 2): 0, (3, 2): 0, (4, 2): 0, (0, 3): 0, (1, 3): 0, (2, 3): 0, (0, 4): 0, (1, 4): 0, 'depot': 0, (4, 0): 0, (2, 1): 0, (5, 2): 0, (3, 3): 0, (2, 4): 0}, (2, 4): {(0, 0): 0, (1, 0): 0, (2, 0): 0, (3, 0): 0, (0, 1): 0, (1, 1): 0, (0, 2): 0, (1, 2): 0, (2, 2): 0, (3, 2): 0, (4, 2): 0, (0, 3): 0, (1, 3): 0, (2, 3): 0, (0, 4): 0, (1, 4): 0, 'depot': 0, (4, 0): 0, (2, 1): 0, (5, 2): 0, (3, 3): 0, (2, 4): 0}}
        agvsPerWC = [6, 6, 6, 6, 6]  # Number of AGVs per workcenter
        agv_number_WC = [[1, 2, 3, 4, 5, 6], [7, 8, 9, 10, 11, 12], [13, 14, 15, 16, 17, 18], [19, 20, 21, 22, 23, 24],
                         [25, 26, 27, 28, 29, 30]]  # Index of AGVs

    # AGV information (6 AGV per WC)
    if AGV_selection == 1:

        agvsPerWC = [6, 6, 6, 6, 6]  # Number of AGVs per workcenter
        agv_number_WC = [[1, 2, 3, 4, 5, 6], [7, 8, 9, 10, 11, 12], [13, 14, 15, 16, 17, 18], [19, 20, 21, 22, 23, 24],
                         [25, 26, 27, 28, 29, 30]]  # Index of AGVs

    # AGV information (3 AGV per WC)
    if AGV_selection == 2:

        agvsPerWC = [3, 3, 3, 3, 3]  # Number of AGVs per workcenter
        agv_number_WC = [[1, 2, 3], [4, 5, 6], [7, 8, 9], [10, 11, 12], [13, 14, 15]]  # Index of AGVs

    # AGV information (No_AGVS = Machines + 1)
    if AGV_selection == 3:

        agvsPerWC = [5, 3, 6, 4, 3]  # Number of AGVs per workcenter
        agv_number_WC = [[1, 2, 3, 4, 5], [6, 7, 8], [9, 10, 11, 12, 13, 14], [15, 16, 17, 18],
                         [19, 20, 21]]  # Index of AGVs

    # AGV information (No_AGVS = Machines + 2)
    if AGV_selection == 4:

        agvsPerWC = [6, 4, 7, 5, 4]  # Number of AGVs per workcenter
        agv_number_WC = [[1, 2, 3, 4, 5, 6], [7, 8, 9, 10], [11, 12, 13, 14, 15, 16, 17], [18, 19, 20, 21, 22],
                         [23, 24, 25, 26]]  # Index of AGVs

    # AGV information (No_AGVS = Machines - 1)
    if AGV_selection == 5:

        agvsPerWC = [3, 1, 4, 2, 1]  # Number of AGVs per workcenter
        agv_number_WC = [[1, 2, 3], [4], [5, 6, 7, 8], [9, 10],
                         [11]]  # Index of AGVs

    # AGV information (No_AGVS = Machines)
    if AGV_selection == 6:

        agvsPerWC = [4, 2, 5, 3, 2]  # Number of AGVs per workcenter
        agv_number_WC = [[1, 2, 3, 4], [5, 6], [7, 8, 9, 10, 11], [12, 13, 14], [15, 16]]  # Index of AGVs

    return travel_time_matrix_static, agvsPerWC, agv_number_WC


def create_distance_matrix():
    """Creates distance matrix where distance can be requested by inputting:
    distance_maxtrix[actual location][destination]"""

    # All distances are in meters
    distance_matrix = {
        "depot": {(ii, jj): 0 for jj in noOfWC for ii in range(machinesPerWC[jj])}}

    distance_matrix["depot"].update(
        {(ii + machinesPerWC[jj], jj): 0 for jj in noOfWC for ii in range(noOfCbPerWC[jj])})

    distance_matrix["depot"].update({"depot": 0})

    # TODO: Random dinstance_matrix has to be placed before the simpy enviroment as a static dictionary

    for jj in noOfWC:
        for ii in range(machinesPerWC[jj]):
            distance_matrix[(ii, jj)] = {(ii, jj): 0 for jj in noOfWC for ii in
                                         range(machinesPerWC[jj])}

            distance_matrix[(ii, jj)].update(
                {(ii + machinesPerWC[jj], jj): 1 for jj in noOfWC for ii in range(noOfCbPerWC[jj])})
            distance_matrix[(ii, jj)].update({"depot": 0})

            distance_matrix[ii, jj][ii, jj] = 0

    for jj in noOfWC:
        for ii in range(noOfCbPerWC[jj]):
            ii += machinesPerWC[jj]
            distance_matrix[(ii, jj)] = {(ii, jj): 0 for jj in noOfWC for ii in
                                         range(machinesPerWC[jj])}

            distance_matrix[(ii, jj)].update({"depot": 0})

            distance_matrix[(ii, jj)].update({(ii + machinesPerWC[jj], jj): 0 for jj in
                                              noOfWC for ii in range(noOfCbPerWC[jj])})

            distance_matrix[ii, jj][ii, jj] = 0

    return distance_matrix

